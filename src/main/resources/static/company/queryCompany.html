<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查询公司页面</title>
    <link rel="stylesheet" type="text/css" href="/css/pure-min.css"/>
    <script type="text/javascript">
        function queryCompany() {
            const companyName = document.getElementById("companyName").value;
            const companyPhoneNumber = document.getElementById("companyPhoneNumber").value;
            const companyAddress = document.getElementById("companyAddress").value;
            const params = {
                "companyName":companyName,
                "companyPhoneNumber":companyPhoneNumber,
                "companyAddress":companyAddress
            };
            const url = "/vcoffee/queryCompany";
            const xhr = new XMLHttpRequest();
            xhr.open("POST",url,true);
            xhr.setRequestHeader("content-Type","application/json");
            xhr.onload = function(e1){
                let res = JSON.parse(xhr.responseText);
                if(res.code === 1000){
                    alert(res.message);
                }else{
                    alert(res.message);
                }

            };
            xhr.onerror = function(e2){
                console.error("查询公司信息失败："+JSON.parse(xhr.responseText));
                window.location.href = "/error/error.html";
            };
            xhr.send(JSON.stringify(params));
        }
    </script>
</head>
<body background="/picture/welcome.jpg" style="background-repeat: no-repeat;background-size: 100% 100%;background-attachment: fixed;">
<div align="center">
    <legend align="center">公<br/><br/>司</legend>
</div>
<form class="pure-form" method="post">
    <fieldset>
        <input type="text" id="companyName" name="companyName" placeholder="公司名称"/>
        <input type="text" id="companyPhoneNumber" name="companyPhoneNumber" placeholder="公司电话"/>
        <input type="text" id="companyAddress" name="companyAddress" placeholder="公司地址"/>
        <button type="button" class="pure-button pure-button-primary" onclick="queryCompany()">查询</button>
        <button type="reset" class="pure-button pure-button-primary">取消</button>
    </fieldset>
</form>
<table class="pure-table pure-table-bordered" align="center">
    <thead align="center">
        <tr>
           <td>序<br/><br/>号</td>
           <td>公司名称</td>
           <td>公司简称</td>
           <td>公司电话</td>
           <td>公司地址</td>
        </tr>
    </thead>
</table>
</body>
</html>