<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查询账户页面</title>
    <link rel="stylesheet" type="text/css" href="/css/pure-min.css"/>
    <script type="text/javascript">
        /**
         * 初始化页面，获取当前用户信息和账户信息并展示在页面上
         */
        window.onload = function () {
           const url = "/vcoffee/account/queryAccountDetail";
           const queryParam = {};
           const xhr = new XMLHttpRequest();
           xhr.open("POST",url,true);
           xhr.setRequestHeader("content-Type","application/json");
           xhr.onload = function () {
               let res = JSON.parse(xhr.responseText);
               if(res.code === 1000){
                   alert(res.message);
                   document.getElementById("userNumber").value = res.data.userNumber;
                   document.getElementById("userName").value = res.data.username;
                   document.getElementById("remaining").value = res.data.remaining;
                   document.getElementById("companyName").value = res.data.companyName;
                   document.getElementById("equipmentName").value = res.data.equipmentName;
               }else{
                   console.error("查询个人账户报错，" + res.message);
                   window.location.href = "/error/error.html";
               }
           };
           xhr.onerror = function () {
               console.error("查询个人账户报错，" + JSON.parse(xhr.responseText).message);
               window.location.href = "/error/error.html";
           };
           xhr.send();
        };

        /**
         * 返回主页面
         */
        function back() {
            window.location.href = "/home/home.html";
        }
    </script>
</head>
<body background="/picture/welcome.jpg" style="background-repeat: no-repeat;background-size: 100% 100%;background-attachment: fixed;">
<div align="center">
    <div></div>
    <div></div>
    <button type="button" class="pure-button pure-button-primary" onclick="back()">返回</button>
</div>
<div></div>
<div></div>
<div align="center">
    <div id="userNumberDiv" align="center">
        <label for="userNumber">用户编号</label>
        <input type="text" id="userNumber" name="userNumber" placeholder="用户编号">
    </div>

    <div></div>
    <div></div>
    <div id="userNameDiv" align="center">
        <label for="userName">用户名称</label>
        <input type="text" id="userName" name="userName" placeholder="用户名称"/>
    </div>
    <div></div>
    <div></div>
    <div id="accountDiv" align="center">
        <label for="remaining">账户余额</label>
        <input type="text" id="remaining" name="remaining" placeholder="账户余额"/>
    </div>
    <div></div>
    <div></div>
    <div id="companyDiv" align="center">
        <label for="companyName">公司名称</label>
        <input type="text" id="companyName" name="companyName" placeholder="公司名称"/>
    </div>
    <div></div>
    <div></div>
    <div id="equipmentDiv" align="center">
        <label for="equipmentName">设备名称</label>
        <input type="text" id="equipmentName" name="equipmentName" placeholder="设备名称"/>
    </div>
    <div></div>
    <div></div>

</div>
</body>
</html>